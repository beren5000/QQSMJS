var init=function(){message(mWellcome),qCount=0,lvlCount=1,qAns=0,quest=getQuestions(qPerLevel,"nivel"+lvlCount),putQuestion(quest[qCount]),$(".point").removeClass("pointPlay"),$($(".point").get().reverse()[qAns]).addClass("pointPlay"),$("#btn5050").removeClass("btn5050I").addClass("btn5050A"),$("#btnPublic").removeClass("btnPublicI").addClass("btnPublicA"),$("#btnFriend").removeClass("btnFriendI").addClass("btnFriendA"),$("#btn5050").unbind(),$("#btnFriend").unbind(),$("#btnPublic").unbind(),$("#btn5050").bind("click",function(){message(m5050)}),$("#btnFriend").bind("click",function(){message(mLlamada)}),$("#btnPublic").bind("click",function(){message(mPublic)})},helps={v5050:0,friend:0,publics:0},h5050=function(){helps.v5050=1;var a=$(".answer[right=0]"),e=0,t=[];e=randNotInArray(2,t),t.push(e),$(a[e]).css("color","#000d4c"),e=randNotInArray(2,t),t.push(e),$(a[e]).css("color","#000d4c"),$("#btn5050").removeClass("btn5050A").addClass("btn5050I"),$("#btn5050").unbind()},hCall=function(){helps.friend=1;var a=$(".answer[right=1]").parent();$(a).addClass("callRight"),$(".answer[right=1]").css("color","#000d4c"),$("#btnFriend").removeClass("btnFriendA").addClass("btnFriendI"),$("#btnFriend").unbind()},hPublic=function(){helps.publics=1,$(".answer").each(function(){value="1"==$(this).attr("right")?Math.floor(51*Math.random()+150):Math.floor(101*Math.random()+10);var a="#"+$(this).attr("bar");$(a).animate({height:value},1500)}),$("#btn1").removeClass(),$("#btn2").removeClass().toggle(),$("#btn1").addClass("btnContinuar").html("CONTINUAR"),$("#btn1").unbind(),$("#btn1").bind("click",function(){messageToggle(),$("#btn1").unbind(),$(".bar").animate({height:0},5)}),$("#btnPublic").removeClass("btnPublicA").addClass("btnPublicI"),$("#btnPublic").unbind()},mWellcome={type:1,"char":"charIntro",tit:"bienvenido a Quien quiere ser millonario"},mCongrat={type:2,tit:"Felicitaciones, respuesta correcta"},mError={type:3,tit:"Respuesta Errada, lo sentimos",callback:init},m5050={type:4,tit:"esta a punto de utilizar la ayuda de 5050, desea continuar?",callback:h5050},mLlamada={type:5,tit:"esta a punto de utilizar la ayuda de Llamada a un amigo, desea continuar?",callback:hCall},mPublic={type:6,tit:"esta a punto de utilizar la ayuda del publico, desea continuar?",callback:hPublic},mNewLvl={type:7,tit:"Felicitaciones, respuesta correcta"},mLast={type:8,tit:"ultima pregunta"},mWinner={type:9,tit:"ultima pregunta",callback:init},qPerLevel=5,qCount=0,lvlCount=1,qMax=11,qAns=0,messageToggle=function(a){a?$("#modal").fadeToggle(500,function(){a()}):$("#modal").fadeToggle(500)},message=function(a){var e=$("#btn1"),t=$("#btn2");$("#modal").removeClass(),$("#char").removeClass(),$("#infocenter").removeClass(),$("#infotext").removeClass(),$("#btn1").removeClass(),$("#btn2").removeClass(),$("#bars").removeClass(),$(".lettersBars").hide(),e.unbind(),t.unbind(),e.hide(),t.hide(),1==a.type&&($("#modal").addClass("messIntro"),$("#char").addClass("charIntro"),$("#infocenter").addClass("logoIntro"),$("#btn1").addClass("btnJugar").html("JUGAR"),e.bind("click",function(){a.callback?messageToggle(a.callback):messageToggle()}),e.toggle()),2==a.type&&($("#modal").addClass("messIntro"),$("#char").addClass("charIntro"),$("#infocenter").addClass("logoIntro"),$("#infotext").addClass("textNivel"),$("#btn1").addClass("btnJugar").html("CONTINUAR"),e.bind("click",function(){a.callback?messageToggle(a.callback):messageToggle()}),e.toggle()),3==a.type&&($("#modal").addClass("messIntro"),$("#char").addClass("charLost"),$("#infocenter").addClass("logoLost"),$("#infotext").addClass("textLost"),$("#btn1").addClass("btnLost").html("VOLVER A JUGAR"),e.bind("click",function(){a.callback?messageToggle(a.callback):messageToggle()}),e.toggle()),4==a.type&&($("#modal").addClass("mess"),$("#infocenter").addClass("text5050"),$("#btn1").addClass("btnSi").html("SI"),$("#btn2").addClass("btnNo").html("NO"),e.bind("click",function(){messageToggle(a.callback)}),t.bind("click",function(){messageToggle()}),e.toggle(),t.toggle()),5==a.type&&($("#modal").addClass("mess"),$("#char").addClass("charCall"),$("#infocenter").addClass("globoAyuda"),$("#infotext").addClass("textQHelp"),$("#btn1").addClass("btnSi").html("SI"),$("#btn2").addClass("btnNo").html("NO"),e.bind("click",function(){messageToggle(a.callback)}),t.bind("click",function(){messageToggle()}),e.toggle(),t.toggle()),6==a.type&&($("#modal").addClass("mess"),$("#bars").addClass("bars"),$("#bara").addClass("bar"),$("#barb").addClass("bar"),$("#barc").addClass("bar"),$("#bard").addClass("bar"),$(".lettersBars").show(),$("#infotext").addClass("textPHelp"),$("#btn1").addClass("btnSi").html("SI"),$("#btn2").addClass("btnNo").html("NO"),e.bind("click",function(){a.callback()}),t.bind("click",function(){messageToggle()}),e.toggle(),t.toggle()),7==a.type&&($("#modal").addClass("messIntro"),$("#char").addClass("charPersp"),$("#infocenter").addClass("logoIntro"),$("#infotext").addClass("textSiguiente"),$("#btn1").addClass("btnContinuarLvl").html("CONTINUAR"),console.log("respuesta Correcta, sgt nivel"),e.bind("click",function(){a.callback?messageToggle(a.callback):messageToggle()}),e.toggle()),8==a.type&&($("#modal").addClass("messIntro"),$("#char").addClass("charPersp"),$("#infocenter").addClass("logoIntro"),$("#infotext").addClass("textUltima"),$("#btn1").addClass("btnContinuarLvl").html("CONTINUAR"),console.log("respuesta Correcta, sgt nivel"),e.bind("click",function(){a.callback?messageToggle(a.callback):messageToggle()}),e.toggle()),9==a.type&&($("#modal").addClass("messIntro"),$("#char").addClass("charIntro"),$("#infocenter").addClass("logoIntro"),$("#infotext").addClass("textGanador"),$("#btn1").addClass("btnWin").html("JUGAR DE NUEVO"),console.log("respuesta Correcta, sgt nivel"),e.bind("click",function(){a.callback?messageToggle(a.callback):messageToggle()}),e.toggle()),messageToggle()},randNotInArray=function(a,e){var t=-1;do t=Math.floor(Math.random()*(a+1)),ret=$.inArray(t,e);while(-1!=ret);return t},getQuestions=function(a,e){var t,s=[],n=preguntas[e],l=[];for(i=0;a>i;i++)t=randNotInArray(n.length-1,l),l.push(t),s.push(n[t]);return s},putQuestion=function(a){$("#question").html(a.pregunta),$(".answer").parent().removeClass("callRight");var e=[];for(i=1;4>=i;i++)val=randNotInArray(a.respuestas.length-1,e),e.push(val),$(".answer").css("color","white"),$("#answer"+i).html(a.respuestas[val]),a.correcta==val?$("#answer"+i).attr("right","1"):$("#answer"+i).attr("right","0")},checkAnswer=function(a){"1"==a.attr("right")?qAns>qMax?message(mWinner):qAns==qMax?(qCount+1>=qPerLevel?(message(mLast),qCount=0,lvlCount++,quest=getQuestions(qPerLevel,"nivel"+lvlCount),putQuestion(quest[qCount])):(message(mLast),qCount+=1,putQuestion(quest[qCount])),$($(".point").get().reverse()[qAns]).removeClass("pointPlay"),qAns++,$($(".point").get().reverse()[qAns]).addClass("pointPlay")):(qCount+1>=qPerLevel?(message(mNewLvl),qCount=0,lvlCount++,quest=getQuestions(qPerLevel,"nivel"+lvlCount),putQuestion(quest[qCount])):(message(mCongrat),qCount+=1,putQuestion(quest[qCount])),$($(".point").get().reverse()[qAns]).removeClass("pointPlay"),qAns++,$($(".point").get().reverse()[qAns]).addClass("pointPlay")):message(mError)};$(document).ready(function(){init(),$(".aSize").click(function(){checkAnswer($($(this).children()[1]))})});